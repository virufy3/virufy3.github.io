{"version":3,"sources":["hooks/useHeaderContext.ts","helper/scrollHelper.ts","utils/wizard.ts","components/Button/style.ts","components/Button/Button.tsx","components/WizardButtons/style.ts","components/WizardButtons/WizardButtons.tsx","components/Checkbox/style.ts","components/Checkbox/Checkbox.tsx","hooks/useEmbeddedFile.ts","utils/mapOfConsentFiles.ts","data/privacyPolicy.ts","data/consentPdf.ts","containers/Welcome/Step4/Step4.tsx","helper/consentPathHelper.ts"],"names":["useHeaderContext","React","useContext","HeaderContext","title","setTitle","subtitle","setSubtitle","type","setType","logoSize","setLogoSize","setDoGoBack","doGoBack","scrollToTop","window","scrollTo","top","behavior","updateAction","storeKey","state","payload","resetStore","welcome","language","StyledButton","styled","button","dark","color","disabled","colors","purple_50","purple","white","Button","memo","children","props","WizardButtonsContainer","div","theme","layout","generalPaddingAmount","breakpoints","tablet","WizardButtons","invert","leftLabel","leftDisabled","leftHandler","rightLabel","rightDisabled","rightHandler","onClick","StyledCheckboxContainer","FullWidthDiv","fontWeight","css","StyledCheckboxInput","input","attrs","checkboxLeftOffsetPosition","StyledCheckboxInputLabel","label","Checkbox","id","name","value","margin","onChange","isChecked","checked","htmlFor","DOMPurify","createDOMPurify","useEmbeddedFile","filePath","useState","isLoadingFile","setIsLoadingFile","file","setFile","useEffect","fetch","mode","then","fetchedFile","text","result","sanitize","ADD_ATTR","mapOfConsentFiles","Argentina","consentLang","Bolivia","Brazil","Colombia","Mexico","Pakistan","Peru","privacyPolicy","consentPdf","schema","Yup","shape","agreedConsentTerms","required","default","oneOf","agreedPolicyTerms","agreedCovidDetection","when","is","notRequired","otherwise","agreedTrainingArtificial","p","Portal","usePortal","bindTo","document","getElementById","activeStep","setActiveStep","useStateMachine","action","store","currentCountry","country","useForm","defaultValues","resolver","yupResolver","context","control","handleSubmit","formState","errors","isValid","history","useHistory","lang","basePath","process","indexOfLang","indexOf","indexOfDefaultDoc","buildConsentFilePath","consentFormContent","onSubmit","values","a","nextStep","push","doBack","useCallback","previousStep","goBack","t","useTranslation","Trans","i18nKey","Link","to","target","dangerouslySetInnerHTML","__html","defaultValue","render","e"],"mappings":"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","file":"static/js/56.ce8937d9.chunk.js","sourcesContent":["import React from 'react';\nimport { HeaderContext } from 'components/Header';\n\nconst useHeaderContext = () => {\n  const {\n    title, setTitle, subtitle, setSubtitle, type, setType, logoSize, setLogoSize, setDoGoBack, doGoBack,\n  } = React.useContext(HeaderContext);\n\n  return {\n    title,\n    setTitle,\n    subtitle,\n    setSubtitle,\n    type,\n    setType,\n    logoSize,\n    setLogoSize,\n    doGoBack,\n    setDoGoBack,\n  };\n};\n\nexport default useHeaderContext;\n","export const scrollToTop = function scrollToTop() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n};\n\nexport const scrollToBottom = function scrollToBottom() {\n  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\n};\n","// TODO: Improve types\nexport function updateAction(storeKey: string): any {\n  return (state: any, payload: any) => ({\n    ...state,\n    [storeKey]: {\n      ...state[storeKey],\n      ...payload,\n    },\n  });\n}\n\nexport function resetStore(): any {\n  return (state: any) => ({ welcome: { language: state.welcome.language } });\n}\n","import styled from 'styled-components';\nimport { colors } from '../../theme';\n\nexport interface StyledButtonProps {\n  disabled?: boolean;\n  dark?: boolean;\n  id?: string;\n}\n\nexport const StyledButton = styled.button<StyledButtonProps>`\n  height: 50px;\n  border-radius: 15px; \n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\n  font-weight: bold;\n  font-size: 14px;\n  font-weight: bold;\n  width: 100%;\n\n  ${({ dark, disabled }) => {\n    const color = disabled ? colors.purple_50 : colors.purple;\n    return dark ? `\n    background-color: ${color};\n    color: ${colors.white};\n    border: none;\n  ` : `\n    background-color: ${colors.white};\n    color: ${color};\n    border: 1px solid ${color};\n  `;\n  }}\n`;\n","import React, { PropsWithChildren } from 'react';\n\n// Styles\nimport {\n  StyledButton,\n  StyledButtonProps,\n} from './style';\n\nexport interface ButtonProps extends PropsWithChildren<StyledButtonProps> {\n  onClick?: ((event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void);\n}\n\nconst Button = React.memo(({ children, ...props }: ButtonProps) => ((\n  <StyledButton\n    type=\"button\"\n    {...props}\n  >\n    {children}\n  </StyledButton>\n)));\n\nexport default Button;\n","import styled from 'styled-components';\n\nexport const WizardButtonsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: ${props => `calc(100% - ${props.theme.layout.generalPaddingAmount * 2}px)`};\n  margin: 0 auto;\n\n  button {\n    flex: 1;\n    min-height: 50px;\n    margin-bottom: 8px;\n\n    &:first-of-type {\n      margin-left: 0px !important;\n    }\n  }\n\n  @media screen and (${props => props.theme.breakpoints.tablet}){\n    max-width: 470px;\n  }\n`;\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\n\n// Components\nimport Button from 'components/Button';\n\n// Styles\nimport {\n  WizardButtonsContainer,\n} from './style';\n\ninterface WizardButtonsProps {\n  invert?: boolean;\n  leftLabel: string;\n  leftDisabled?: boolean;\n  leftHandler: () => void;\n  rightLabel?: string;\n  rightDisabled?: boolean;\n  rightHandler?: () => void;\n}\n\nconst WizardButtons = React.memo(({\n  invert = false,\n  leftLabel,\n  leftDisabled,\n  leftHandler,\n  rightLabel,\n  rightDisabled,\n  rightHandler,\n}: WizardButtonsProps) => (\n  <WizardButtonsContainer>\n    <Button\n      dark={invert}\n      disabled={leftDisabled}\n      onClick={leftHandler}\n    >\n      {leftLabel}\n    </Button>\n    {\n        rightLabel && rightHandler && (\n          <Button\n            dark={!invert}\n            disabled={rightDisabled}\n            onClick={rightHandler}\n          >\n            {rightLabel}\n          </Button>\n        )\n      }\n  </WizardButtonsContainer>\n));\nexport default React.memo(WizardButtons);\n","import styled, { css } from 'styled-components';\nimport FullWidthDiv from 'components/FullWidthDiv';\n\ninterface StyledCheckboxContainerProps {\n  isChecked: boolean | undefined;\n  fontWeight?: number;\n  margin: string;\n\n}\n\ninterface StyledCheckboxLabelProps {\n  htmlFor: string;\n  checkboxLeftOffsetPosition: number;\n}\n\ninterface StyledCheckboxInputProps {\n  checkboxLeftOffsetPosition: number;\n}\n\nexport const StyledCheckboxContainer = styled(FullWidthDiv)<StyledCheckboxContainerProps>`\n  display: flex;\n  font-family: \"Source Sans Pro\";\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  ${({ fontWeight }) => fontWeight && css`font-weight: ${fontWeight};`}\n  padding: 15px 0;\n  position: relative;\n\n  @media screen and (${props => props.theme.breakpoints.tablet}){\n    max-width: 470px;\n    margin: auto;\n    width: 100%;\n  }\n`;\n\nexport const StyledCheckboxInput = styled.input.attrs(() => ({\n  type: 'checkbox',\n}))<StyledCheckboxInputProps>`\n  appearance: none;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16 2V16H2V2H16ZM16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z' fill='%2321242C'/%3E%3C/svg%3E%0A\");\n  background-repeat: no-repeat;\n  color: black;\n  cursor: pointer;\n  display: inline-block;\n  height: 18px;\n  left: ${props => props.checkboxLeftOffsetPosition}px;\n  outline: 0;\n  position:absolute;\n  width: 18px;\n  border: 0;\n  border-radius: 0;\n  transform: translateY(4px);\n\n  &:checked{\n    height: 18px;\n    width: 28px;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM16 16H2V2H16V16ZM14.99 6L13.58 4.58L6.99 11.17L4.41 8.6L2.99 10.01L6.99 14L14.99 6Z' fill='%2321242C'/%3E%3C/svg%3E%0A\");\n  }\n`;\n\nexport const StyledCheckboxInputLabel = styled.label<StyledCheckboxLabelProps>`\n  margin: auto;\n  margin-left:  ${({ checkboxLeftOffsetPosition }) => checkboxLeftOffsetPosition + 32}px;\n  margin-right: 20px;\n`;\n","/* eslint-disable react/prop-types */\n/* eslint-disable react/require-default-props */\nimport React, { FunctionComponent } from 'react';\n\nimport { StyledCheckboxContainer, StyledCheckboxInput, StyledCheckboxInputLabel } from './style';\n\ninterface CheckboxProps {\n  checkboxLeftOffsetPosition?: number;\n  fontWeight?: number;\n  id: string;\n  label: string | React.ReactElement;\n  margin?: string;\n  name: string;\n  onChange: (...event: any[]) => void;\n  value: boolean | undefined;\n}\n\nconst Checkbox: FunctionComponent<CheckboxProps> = ({\n  label, id, name, value, fontWeight = 400, margin = 'auto', checkboxLeftOffsetPosition = 20, onChange,\n}: CheckboxProps) => (\n  <StyledCheckboxContainer isChecked={value} fontWeight={fontWeight} margin={margin}>\n    <StyledCheckboxInput\n      onChange={onChange}\n      checkboxLeftOffsetPosition={checkboxLeftOffsetPosition}\n      id={id}\n      name={name}\n      checked={value}\n    />\n    <StyledCheckboxInputLabel\n      htmlFor={id}\n      checkboxLeftOffsetPosition={checkboxLeftOffsetPosition}\n    >\n      {label}\n    </StyledCheckboxInputLabel>\n  </StyledCheckboxContainer>\n);\n\nexport default Checkbox;\n","import { useState, useEffect } from 'react';\nimport createDOMPurify from 'dompurify';\n\nconst DOMPurify = createDOMPurify(window);\n\nconst useEmbeddedFile = (filePath = '') => {\n  const [isLoadingFile, setIsLoadingFile] = useState(false);\n  const [file, setFile] = useState('');\n\n  useEffect(() => {\n    setIsLoadingFile(true);\n    fetch(filePath, { mode: 'no-cors' }).then(fetchedFile => fetchedFile.text()).then(result => { setIsLoadingFile(false); setFile(result); });\n  }, [filePath]);\n\n  return { file: DOMPurify.sanitize(file, { ADD_ATTR: ['target'] }), isLoadingFile };\n};\n\nexport default useEmbeddedFile;\n","export const mapOfConsentFiles = {\n  Argentina: {\n    consentLang: [\n      'default.html',\n    ],\n  },\n  Bolivia: {\n    consentLang: [\n      'default.html',\n    ],\n  },\n  Brazil: {\n    consentLang: [\n      'default.html',\n    ],\n  },\n  Colombia: {\n    consentLang: [\n      'default.html',\n    ],\n  },\n  Mexico: {\n    consentLang: [\n      'default.html',\n    ],\n  },\n  Pakistan: {\n    consentLang: [\n      'default.html',\n    ],\n  },\n  Peru: {\n    consentLang: [\n      'default.html',\n    ],\n  },\n  'United States': {\n    consentLang: [\n      'default.html',\n    ],\n  },\n};\n","export const privacyPolicy = {\n  Argentina: 'https://virufy.org/ar/privacy_policy.pdf',\n  Bolivia: 'https://virufy.org/bo/privacy_policy.pdf',\n  Brazil: 'https://virufy.org/br/privacy_policy.pdf',\n  Colombia: 'https://virufy.org/co/privacy_policy.pdf',\n  Peru: 'https://virufy.org/pe/privacy_policy.pdf',\n  Mexico: 'https://virufy.org/mx/privacy_policy.pdf',\n  'United States': 'https://virufy.org/us/privacy_policy.pdf',\n};\n\ndeclare global {\n  type PrivacyPolicyCountry = keyof typeof privacyPolicy;\n}\n","export const consentPdf = {\n  Argentina: 'https://virufy.org/ar/study_consent.pdf',\n  Bolivia: 'https://virufy.org/bo/study_consent.pdf',\n  Brazil: 'https://virufy.org/br/study_consent.pdf',\n  Colombia: 'https://virufy.org/co/study_consent.pdf',\n  Peru: 'https://virufy.org/pe/study_consent.pdf',\n  Mexico: 'https://virufy.org/mx/study_consent.pdf',\n  'United States': 'https://virufy.org/us/study_consent.pdf',\n};\n\ndeclare global {\n  type ConsentPDFCountry = keyof typeof consentPdf;\n}\n","import React, { useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslation, Trans } from 'react-i18next';\nimport usePortal from 'react-useportal';\n\n// Form\nimport { useForm, Controller } from 'react-hook-form';\nimport { useStateMachine } from 'little-state-machine';\nimport { yupResolver } from '@hookform/resolvers';\nimport { ErrorMessage } from '@hookform/error-message';\nimport * as Yup from 'yup';\n\n// Components\nimport WizardButtons from 'components/WizardButtons';\nimport Link from 'components/Link';\nimport Checkbox from 'components/Checkbox';\nimport { BlackText } from 'components/Texts';\n\n// Update Action\nimport { updateAction } from 'utils/wizard';\n\n// Header Control\nimport useHeaderContext from 'hooks/useHeaderContext';\n\n// Hooks\nimport useEmbeddedFile from 'hooks/useEmbeddedFile';\n\n// Utils\nimport { buildConsentFilePath } from 'helper/consentPathHelper';\nimport { scrollToTop } from 'helper/scrollHelper';\n\n// Data\nimport { privacyPolicy } from 'data/privacyPolicy';\nimport { consentPdf } from 'data/consentPdf';\n\n// Styles\nimport {\n  ContainerShapeDown,\n  InnerContainerShapeDown,\n  WelcomeContent,\n  WelcomeStyledFormAlternative,\n  WelcomeConsentForm,\n  CheckboxTitle,\n} from '../style';\n\nconst schema = Yup.object().shape({\n  agreedConsentTerms: Yup.boolean().required().default(false).oneOf([true]),\n  agreedPolicyTerms: Yup.boolean().required().default(false).oneOf([true]),\n  agreedCovidDetection: Yup.boolean().when('$country', {\n    is: 'Colombia',\n    then: Yup.boolean().notRequired(),\n    otherwise: Yup.boolean().required().default(false).oneOf([true]),\n  }),\n  agreedTrainingArtificial: Yup.boolean().when('$country', {\n    is: 'Colombia',\n    then: Yup.boolean().notRequired(),\n    otherwise: Yup.boolean().required().default(false).oneOf([true]),\n  }),\n});\n\ntype Step3Type = Yup.InferType<typeof schema>;\n\nconst Step4 = (p: Wizard.StepProps) => {\n  const { Portal } = usePortal({\n    bindTo: document && document.getElementById('wizard-buttons') as HTMLDivElement,\n  });\n  const [activeStep, setActiveStep] = React.useState(true);\n  const { setType, setDoGoBack, setSubtitle } = useHeaderContext();\n\n  const { state, action } = useStateMachine(updateAction(p.storeKey));\n\n  const store = state?.[p.storeKey];\n\n  const currentCountry: PrivacyPolicyCountry = state.welcome.country;\n  const {\n    control, handleSubmit, formState,\n  } = useForm({\n    defaultValues: store,\n    resolver: yupResolver(schema),\n    context: {\n      country: currentCountry,\n    },\n    mode: 'onChange',\n  });\n  const { errors, isValid } = formState;\n  const history = useHistory();\n  const { isLoadingFile, file: consentFormContent } = useEmbeddedFile(\n    buildConsentFilePath(currentCountry, state.welcome.language),\n  );\n\n  const onSubmit = async (values: Step3Type) => {\n    if (values) {\n      action(values);\n      if (p.nextStep) {\n        setActiveStep(false);\n        history.push(p.nextStep);\n      }\n    }\n  };\n\n  const doBack = useCallback(() => {\n    if (p.previousStep) {\n      setActiveStep(false);\n      history.push(p.previousStep);\n    } else {\n      history.goBack();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    scrollToTop();\n    setDoGoBack(() => doBack);\n    setType('secondary');\n    setSubtitle(t('consent:title'));\n  }, [doBack, setDoGoBack, setType, setSubtitle, t]);\n\n  return (\n    <WelcomeStyledFormAlternative>\n      <ContainerShapeDown>\n        <InnerContainerShapeDown>\n          <BlackText>\n            <Trans i18nKey=\"consent:paragraph1\">\n              Virufy cares about your privacy and is advised by licensed data privacy experts.\n              The information and recordings you provide will only be used for the purposes described in our\n              <Link to={privacyPolicy[currentCountry]} target=\"_blank\">Privacy Policy</Link> and consent form.\n              Please read the consent Form:\n            </Trans>\n          </BlackText>\n        </InnerContainerShapeDown>\n      </ContainerShapeDown>\n      <WelcomeContent>\n        <WelcomeConsentForm dangerouslySetInnerHTML={{ __html: isLoadingFile ? 'Loading...' : consentFormContent }} />\n\n        <BlackText>\n          <Trans i18nKey=\"consent:paragraph3\">\n            By checking the below boxes, you are granting your explicit, freely given, and informed consent to Virufy to\n            collect, process, and share your information for the purposes indicated above and as provided in greater\n            detail in our <Link to={privacyPolicy[currentCountry]} target=\"_blank\">Privacy Policy</Link>. You can print\n            a copy of this Consent Form for your personal records by\n            accessing <Link to={consentPdf[currentCountry]} target=\"_blank\">Privacy Policy</Link>\n          </Trans>\n        </BlackText>\n\n        {store?.country === 'Brazil' && (\n          <BlackText>\n            <Trans i18nKey=\"consent:paragraph3_brazil\">\n              If you are located inside Brazilian national territory, and for the purposes of the General Personal Data\n              Protection Law (&quot;LGPD&quot;), &quot;consent&quot;, in its free, informed, and unequivocal\n              pronouncement, will be the legal basis on which we process sensitive personal data.\n            </Trans>\n          </BlackText>\n        )}\n\n        <CheckboxTitle>\n          {t('consent:pleaseConfirm', 'Please confirm the following:')}\n        </CheckboxTitle>\n\n        <Controller\n          control={control}\n          name=\"agreedConsentTerms\"\n          defaultValue={false}\n          render={({ onChange, value }) => (\n            <Checkbox\n              id=\"Step2-ConsentTerms\"\n              label={(currentCountry !== 'Brazil') ? (t('consent:certify')) : (t('consent:certifyBrazil'))}\n              name=\"agreedConsentTerms\"\n              onChange={e => onChange(e.target.checked)}\n              value={value}\n            />\n          )}\n        />\n\n        <Controller\n          control={control}\n          name=\"agreedPolicyTerms\"\n          defaultValue={false}\n          render={({ onChange, value }) => (\n            <Checkbox\n              id=\"Step2-PolicyTerms\"\n              label={(\n                <Trans i18nKey=\"consent:agree\">\n                  I agree to the terms of the Virufy\n                  <Link to={privacyPolicy[currentCountry]} target=\"_blank\">Privacy Policy</Link>\n                </Trans>\n              )}\n              name=\"agreedPolicyTerms\"\n              onChange={e => onChange(e.target.checked)}\n              value={value}\n            />\n          )}\n        />\n\n        {currentCountry !== 'Brazil' && (\n          <Controller\n            control={control}\n            name=\"agreedCovidDetection\"\n            defaultValue={false}\n            render={({ onChange, value, name }) => (\n              <Checkbox\n                id=\"Step2-DetectionCovid\"\n                label={(\n                  <Trans i18nKey=\"consent:detection\">\n                    I hereby acknowledge and agree that processing shall be done for the purposes indicated above\n                    and, in particular but without limitation, for research and compiling a dataset needed for the\n                    development of artificial intelligence algorithms for device-based COVID-19 detection.\n                  </Trans>\n            )}\n                name={name}\n                onChange={e => onChange(e.target.checked)}\n                value={value}\n              />\n            )}\n          />\n        )}\n\n        <Controller\n          control={control}\n          name=\"agreedTrainingArtificial\"\n          defaultValue={false}\n          render={({ onChange, value, name }) => (\n            <Checkbox\n              id=\"Step2-TrainingArtificial\"\n              label={(\n                <Trans i18nKey=\"consent:signs\">\n                  I hereby acknowledge and agree that processing shall be done for the purposes indicated above\n                  and, in particular but without limitation, for training artificial intelligence algorithms to\n                  analyze cough audio recordings to better determine signs of COVID-19.\n                </Trans>\n          )}\n              name={name}\n              onChange={e => onChange(e.target.checked)}\n              value={value}\n            />\n          )}\n        />\n        {currentCountry !== 'Brazil' && (\n          <Controller\n            control={control}\n            name=\"agreedBiometric\"\n            defaultValue={false}\n            render={({ onChange, value, name }) => (\n              <Checkbox\n                id=\"Step2-Biometric\"\n                label={(\n                  <Trans i18nKey=\"consent:biometric\">\n                    I hereby expressly consent to the collection and processing of\n                    my personal information, biometric information, and health information.\n                  </Trans>\n            )}\n                name={name}\n                onChange={e => onChange(e.target.checked)}\n                value={value}\n              />\n            )}\n          />\n        )}\n\n        <p><ErrorMessage errors={errors} name=\"name\" /></p>\n        {activeStep && (\n          <Portal>\n            <WizardButtons\n              invert\n              leftLabel={t('consent:nextButton')}\n              leftHandler={handleSubmit(onSubmit)}\n              leftDisabled={!isValid}\n            />\n          </Portal>\n        )}\n      </WelcomeContent>\n    </WelcomeStyledFormAlternative>\n  );\n};\n\nexport default React.memo(Step4);\n","import { mapOfConsentFiles } from 'utils/mapOfConsentFiles';\n\ntype Country = keyof typeof mapOfConsentFiles;\n\nexport const buildConsentFilePath = (country:Country, lang:string) => {\n  const basePath = `${process.env.PUBLIC_URL}/static/consent`;\n\n  /* Check if country and lang combination exists in automatically generated \"mapOfConsentFiles\".\n   If not, find default lang document for the country and return it. */\n  const indexOfLang = mapOfConsentFiles[country].consentLang.indexOf(`${lang}.html`);\n\n  if (indexOfLang !== -1) {\n    return `${basePath}/${country}/${mapOfConsentFiles[country].consentLang[indexOfLang]}`;\n  }\n\n  const indexOfDefaultDoc = mapOfConsentFiles[country as Country].consentLang.indexOf('default.html');\n\n  return `${basePath}/${country}/${mapOfConsentFiles[country].consentLang[indexOfDefaultDoc]}`;\n};\n"],"sourceRoot":""}